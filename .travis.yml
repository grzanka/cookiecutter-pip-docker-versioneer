language: python

# travis-ci runs by default on ancient Ubuntu 12.04 (precise), with support until XXX
# following options will give us Ubuntu 14.04 (trusty)
sudo: required
dist: trusty

# for testing we'll use tox
# test matrix will include three types of python interpreter:
#   - on travis level: "python: XX"
#   - inside template virtualenv generated by tox: "pyXX" in TOXENV
#   - testing template includes generating a project
#        this project will use virtualenv generated by ita own tox: "projXX" in TOXENV
# other elements like "docs" will be used to test correctness of template documentation
matrix:
    include:
        - python: 2.7
          env: TOXENV=py27-proj27
        - python: 3.3
          env: TOXENV=py33-proj33
        - python: 3.4
          env: TOXENV=py34-proj34
        - python: 3.5
          env: TOXENV=py35-proj35
        - python: 3.5-dev
          env: TOXENV=py35-proj35
        # travis nightly points to python 3.6 now
        - python: nightly
          env: TOXENV=py36-proj36
        # docs will be tested with default python version, python 2.7 now
        - env: TOXENV=docs

# check versions of tools, might be useful for debugging
before_install:
  - python --version
  - virtualenv --version
  - pip --version
  - uname -a
  - lsb_release -a

# upgrade virtualenv and tox
install:
  - pip install --upgrade virtualenv tox

# run tox tests
script:
  - tox
